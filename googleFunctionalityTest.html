<!DOCTYPE html>
<html>
<head>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDpj0rNHkoYtraveabbRftpZcE0x8FB6Cg"
    type="text/javascript">
</script>
<script>

var xmlHttp = new XMLHttpRequest();
function httpGet(event) {
  xmlHttp.open( "GET", "http://ip-api.com/json", true ); // false for synchronous request
  xmlHttp.send();
  return xmlHttp.responseText;
}

function processRequest(e) {
  if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {
    var response = JSON.parse(xmlHttp.responseText);
  }
}

function initialize() {
  var mapProp = {
    center:new google.maps.LatLng(51.508742,-0.120850),
    zoom:5,
    mapTypeId:google.maps.MapTypeId.ROADMAP
    };

  var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);
  var myCenter = new google.maps.LatLng(xmlHttp.lat,xmlHttp.lon);
  var marker = new google.maps.Marker({
    position:myCenter,
  });

  marker.setMap(map);
}

</script>
</head>

<body>
<div id = "googleMap" style="width:500px;height:380px;"></div>
</body>

</html>
